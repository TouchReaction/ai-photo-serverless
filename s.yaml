edition: 3.0.0
name: ai-photo
access: default
resources:
  ai_photo_app:
    component: fc3
    actions:
      pre-deploy:
        - run: npm install --production
          path: ./
    props:
      region: cn-hangzhou
      runtime: custom.debian10environmentVariables:
        PATH: >-
          /opt/nodejs20/bin:/usr/local/bin/apache-maven/bin:/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/local/ruby/bin
      layers:
        - acs:fc:cn-hangzhou:official:layers/Nodejs20/versions/1
      memorySize: 128
      cpu: 0.05
      timeout: 60
      code: ./
      diskSize: 512
      customRuntimeConfig:
        command:
          - npm
        args:
          - run
          - start
        port: 9000
      functionName: ai-photo-function
      triggers:
        - triggerName: httpTrigger
          triggerType: http
          triggerConfig:
            authType: anonymous
            methods:
              - GET
              - POST